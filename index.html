<!doctype html>

<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Legs Daily</title>
  <style>
    /* clean white design with green accent */
    body{
      font-family:system-ui,Arial;
      margin:28px;
      background:#ffffff;
      color:#000000;
    }
    .card{
      background:#f6fff7;
      padding:18px;
      border-radius:12px;
      max-width:520px;
      border:1px solid #dcfce7;
    }
    h2{
      margin:0 0 10px 0;
      color:#16a34a; /* green title */
    }
    .row{
      display:flex;
      justify-content:space-between;
      align-items:center;
      margin:8px 0;
    }
    .small{
      font-size:13px;
      color:#000000;
    }
    .label{
      color:#16a34a; /* green section labels */
      font-weight:600;
      font-size:13px;
    }
    button{
      padding:10px 14px;
      border-radius:8px;
      border:none;
      background:#16a34a;
      color:white;
      font-weight:700;
      cursor:pointer;
    }
    button:disabled{
      opacity:.45;
      cursor:not-allowed;
    }
    .reset{
      background:transparent;
      border:1px solid #16a34a;
      color:#16a34a;
      padding:9px 12px;
    }
    .list{
      margin-top:12px;
      border-top:1px solid #e5e7eb;
      padding-top:10px;
    }
    .ex{
      display:flex;
      justify-content:space-between;
      align-items:center;
      padding:8px 0;
      border-bottom:1px dashed #e5e7eb;
    }
    .ex .name{
      font-weight:600;
      color:#000000;
    }
    .ex .qty{
      font-weight:700;
      color:#16a34a;
    }
    .muted{
      font-size:13px;
      color:#444444;
    }
  </style>
</head>
<body>
  <div class="card">
    <h2 id="dayText">Day 1 / 360</h2><div class="row">
  <div class="label">Muscle</div>
  <div class="small">Legs</div>
</div>

<div class="row">
  <div class="label">Difficulty</div>
  <div id="diffText" class="small">1</div>
</div>

<div class="row">
  <div class="label">Next unlock</div>
  <div id="timerText" class="small">Ready</div>
</div>

<div class="list" id="trainingList"></div>

<div style="margin-top:12px;display:flex;gap:8px">
  <button id="doneBtn">Selesai Hari Ini</button>
  <button id="resetBtn" class="reset">Reset</button>
</div>

  </div><script>
  // minimal variables
  var MAX_DAYS = 360;
  var WAIT_SECONDS = 12 * 3600;
  var KEY = 'legs_daily_v1';

  // legs exercises requested by user
  var LEGS = [
    ['Lunge','reps',12],
    ['Squat','reps',12],
    ['Deadlift','reps',8],
    ['Side leg raise','reps',15]
  ];

  var data = loadData();

  function loadData(){
    var raw = localStorage.getItem(KEY);
    if(!raw) return { day:1, deadline:0 };
    try{ return JSON.parse(raw); }catch(e){ return { day:1, deadline:0 }; }
  }

  function saveData(){
    localStorage.setItem(KEY, JSON.stringify(data));
  }

  function completeToday(){
    var now = Math.floor(Date.now()/1000);
    if(now < data.deadline) return;
    data.deadline = now + WAIT_SECONDS;
    data.day = Math.min(data.day + 1, MAX_DAYS);
    saveData();
    updateUI();
  }

  function getDifficulty(d){
    return Math.floor((d - 1) / 3) + 1;
  }

  function computeQty(base, day){
    var lvl = getDifficulty(day);
    var q = Math.round(base * (1 + (lvl - 1) * 0.02));
    if(q < 1) q = 1;
    return q;
  }

  function formatTime(sec){
    var h = Math.floor(sec/3600);
    var m = Math.floor((sec%3600)/60);
    var s = sec % 60;
    return h + "j " + m + "m " + s + "d";
  }

  function updateUI(){
    var now = Math.floor(Date.now()/1000);
    var rem = Math.max(0, data.deadline - now);

    document.getElementById('dayText').textContent =
      data.day >= MAX_DAYS ? "Day 360 â€” Finished" : "Day " + data.day + " / 360";

    document.getElementById('diffText').textContent = getDifficulty(data.day);
    document.getElementById('timerText').textContent =
      rem > 0 ? formatTime(rem) : (data.day >= MAX_DAYS ? 'Done' : 'Ready');

    document.getElementById('doneBtn').disabled =
      rem > 0 || data.day >= MAX_DAYS;

    var cont = document.getElementById('trainingList');
    cont.innerHTML = '';
    for(var i=0;i<LEGS.length;i++){
      var e = LEGS[i];
      var q = computeQty(e[2], data.day);
      var div = document.createElement('div');
      div.className = 'ex';
      div.innerHTML =
        '<div><div class="name">'+e[0]+'<\/div><div class="muted">Legs<\/div><\/div>' +
        '<div class="qty">'+q+' '+e[1]+'<\/div>';
      cont.appendChild(div);
    }
  }

  document.getElementById('doneBtn').onclick = completeToday;
  document.getElementById('resetBtn').onclick = function(){
    if(confirm('Reset progress?')){
      data = { day:1, deadline:0 };
      saveData();
      updateUI();
    }
  };

  setInterval(updateUI, 1000);
  updateUI();
</script></body>
</html>
